---
import type { HomeCard } from '../utils/types';
import FeatureCard from './HomeCards/FeatureCard';
import HeroCard from './HomeCards/HeroCard';
import StoryCard from './HomeCards/StoryCard';
import CTACard from './HomeCards/CTACard';
import PostsCard from './HomeCards/PostsCard';
import FooterCard from './HomeCards/FooterCard';

interface Props extends HomeCard {
  isTopCard?: boolean;
  index?: number;
}

const { cardType, headline, body, bodyMinimized, media, button, isTopCard = false, index = 0 } = Astro.props;

const CardComponent = {
  feature: FeatureCard,
  hero: HeroCard,
  story: StoryCard,
  cta: CTACard,
  posts: PostsCard,
  footer: FooterCard
}[cardType] || FeatureCard;
---

<CardComponent
  client:load
  cardType={cardType}
  headline={headline}
  body={body}
  bodyMinimized={bodyMinimized}
  media={media}
  button={button}
  isTopCard={isTopCard}
  index={index}
/>